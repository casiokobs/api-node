<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<a href="addUser.ejs"><button style="margin-right:5% ;">New User</button></a>
<a href="#"><button>New task</button></a>
<br><br>


<table class="table table-dark table-bordered">
    <tr>
      <th>Task</th>
      <th>Date</th>
      <th>User</th>
    </tr>
    <tbody id="table-content">
    </tbody>
  </table>

<script>
    //populando tabela de tasks, usuario mostra o id ao inves do nome
     fetch("http://localhost:3000/api/v1/task").then(resposta=>{
        return resposta.json();
    }).then(body =>{
        let tableData = "";
        body.map((values)=>{
            tableData += `  <tr>
                                <td>${values.description}</td>
                                <td>${values.date}</td>
                                <td>${values.user}</td>
                                <td><button onclick="location.href='https://google.com'">Editar</button></td>
                                <td><button onclick="location.href='https://google.com'">Remover</button></td>
                            </tr>`
        });
        document.getElementById("table-content").innerHTML = tableData;
    }).catch(err =>{
        console.log(err)
    })    
    
</script>